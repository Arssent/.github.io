  
<!DOCTYPE html>

<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
<script src="https://aframe.io/releases/0.8.0/aframe.min.js"></script>
<script src="https://cdn.rawgit.com/jeromeetienne/AR.js/1.6.0/aframe/build/aframe-ar.js"></script>
  <script src="https://rawgit.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>
  <script src="//cdn.rawgit.com/donmccurdy/aframe-physics-system/v3.2.0/dist/aframe-physics-system.min.js"></script> 
  <script src="https://unpkg.com/aframe-text-geometry-component@^0.5.0/dist/aframe-text-geometry-component.min.js"></script> 

<script src="https://unpkg.com/aframe-extras.ocean@%5E3.5.x/dist/aframe-extras.ocean.min.js"></script>
<body style='margin : 0px; overflow: hidden;'>



<script>
	
var Y=0;

	function Upp(){
	var Up = setInterval(function() {
   //clearInterval(Down);
   Y=Y+0.1;
   var depress = document.querySelector('#depressia');
  var ocean = document.querySelector("#ocean");
  var depressPos=depress.getAttribute('position');
   var depressPosY=depressPos.y;
   var depressPosY=depressPosY+Y;
   depress.setAttribute('position', {x: -1.3, y: depressPosY, z: -1});

 var Opacity =ocean.getAttribute('material').opacity;
 Opacity+=0.1;
 ocean.setAttribute('material', 'opacity', Opacity);
  alert( "тик" );
}, 100);
	};
	
	
	
	
function Downn(){
	
	var Down = setInterval(function() {
   //clearInterval(Up);
   Y=Y+0.1;
   var depress = document.querySelector('#depressia');
  var ocean = document.querySelector("#ocean");
  var depressPos=depress.getAttribute('position');
  var depressPosY=depressPos.y;
   var depressPosY=depressPosY-Y;
   depress.setAttribute('position', {x: -1.3, y: depressPosY, z: -1});

 var Opacity =ocean.getAttribute('material').opacity;
 Opacity-=0.1;
 ocean.setAttribute('material', 'opacity', Opacity);
  alert( "тик" );
}, 100);
};
	
	
	
	AFRAME.registerComponent('markerhandler', {
    init: function() {
        const animatedMarker = document.querySelector("#animated-marker");
        animatedMarker.addEventListener('click', function(ev){ Upp();
            if (animatedMarker.object3D.visible == true && ev.detail.cursorEl) { 
            }
        });
	    animatedMarker.addEventListener('mousedown', function(ev){  Downn();

  
            if (animatedMarker.object3D.visible == true && ev.detail.cursorEl) { 
		    
            }
        });
}});


</script>
	<a-scene embedded arjs='sourceType: webcam;'>
   <a-assets>
<a-asset-item id="optimerBoldFont" src="https://raw.githubusercontent.com/Arssent/arssent.github.io/master/Arial%20Black_Regular.json"></a-asset-item>    
  <img id="groundTexture" crossorigin="anonymous" src="http://test1.ru/ardemo/floor.jpg">
    </a-assets>
    
    
   <a-entity text-geometry="value: depression; size:0.5"  material="color:white;" position="-1.3 -0.4 -1" ></a-entity>
    
	<a-entity id="light" light="type: ambient; color: #888"></a-entity>
    
    <a-entity id="sphere" ></a-entity>
    
          <a-entity id="ocean" ocean="density:10; width: 5; height: 2; depth: 5; speed: 1" material="color: black; opacity: 0.99; metalness: 0; roughness: 1" rotation="-90 0 0"></a-entity>
    <a-entity  id="ground" position="0 -0.5 0"geometry="primitive: plane; height: 5; width: 5"  rotation="90 0 0" material="opacity:1; color:black; side: double;" ></a-entity>
    <a-cylinder id="ground"  position="0 -0.5 0" radius="2" height="0.1" material="opacity:1; color:black;" ></a-cylinder>
		<a-marker-camera markerhandler emitevents="true" cursor="rayOrigin: mouse" id="animated-marker" preset='hiro'></a-marker-camera>
	</a-scene>

</body>
</html>

