  
<!DOCTYPE html>

<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
<script src="https://aframe.io/releases/0.8.0/aframe.min.js"></script>
<script src="https://cdn.rawgit.com/jeromeetienne/AR.js/1.6.0/aframe/build/aframe-ar.js"></script>
  <script src="https://rawgit.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>
  <script src="//cdn.rawgit.com/donmccurdy/aframe-physics-system/v3.2.0/dist/aframe-physics-system.min.js"></script> 
  <script src="https://unpkg.com/aframe-text-geometry-component@^0.5.0/dist/aframe-text-geometry-component.min.js"></script> 

<script src="https://unpkg.com/aframe-extras.ocean@%5E3.5.x/dist/aframe-extras.ocean.min.js"></script>
<body style='margin : 0px; overflow: hidden;'>



<script>
/*	
var Y=0;
var check=0; 
  
	
	
function Downn(check){
	
	var Down = setInterval(function() {
		
if(check==0){
check=1;
clearInterval(Down);
console.log('Down stop');
   }		
   console.log(check);
var ocean = document.querySelector("#ocean");
var depress2 = document.querySelector('#depressia');
  var depressPos=depress2.getAttribute('position');
  var depressPosY=depressPos.y;
   var depressPosY=depressPosY+0.1;
   depress2.setAttribute('position', {x: -1.3, y: depressPosY, z: -1});

 var Opacity =ocean.getAttribute('material').opacity;
Opacity-=0.1;
 ocean.setAttribute('material', 'opacity', Opacity);
  //alert( "тик" );
}, 400);
};
	
  
	function Upp(check){
	var Up = setInterval(function() {
if(check==1){
   clearInterval(Up);
	check=0;
	console.log('Up stop');
   }
console.log(check);
var ocean2 = document.querySelector("#ocean");		
 var depress = document.querySelector('#depressia');
  var depressPos=depress.getAttribute('position');
   var depressPosY=depressPos.y;
   var depressPosY=depressPosY-0.5;
   depress.setAttribute('position', {x: -1.3, y: depressPosY, z: -1});

 var Opacity =ocean2.getAttribute('material').opacity;
Opacity+=0.1;
//console.log(Opacity);
 ocean2.setAttribute('material', 'opacity', Opacity);
  //alert( "тик" );
}, 400);
	};
	
	
*/
	
	
function Go(Do){	
	//alert(Do);

if(Do==1){
	
	var Down = setInterval(function() {
		

clearInterval(Up);
console.log('Up stop');
		
  
var ocean = document.querySelector("#ocean");
var depress2 = document.querySelector('#depressia');
  var depressPos=depress2.getAttribute('position');
  var depressPosY=depressPos.y;
   var depressPosY=depressPosY+0.1;
   depress2.setAttribute('position', {x: -1.3, y: depressPosY, z: -1});

 var Opacity =ocean.getAttribute('material').opacity;
Opacity-=0.1;
 ocean.setAttribute('material', 'opacity', Opacity);
  //alert( "тик" );
}, 400);

	}else{
  
	
	var Up = setInterval(function() {

   clearInterval(Down);

	console.log('Up stop');


var ocean2 = document.querySelector("#ocean");		
 var depress = document.querySelector('#depressia');
  var depressPos=depress.getAttribute('position');
   var depressPosY=depressPos.y;
   var depressPosY=depressPosY-0.5;
   depress.setAttribute('position', {x: -1.3, y: depressPosY, z: -1});

 var Opacity =ocean2.getAttribute('material').opacity;
Opacity+=0.1;
//console.log(Opacity);
 ocean2.setAttribute('material', 'opacity', Opacity);
  //alert( "тик" );
}, 400);
}

	};
	
	
	
	AFRAME.registerComponent('markerhandler', {
    init: function() {
	    var doo=0;
        const animatedMarker = document.querySelector("#animated-marker");
        animatedMarker.addEventListener('click', function(ev){doo=0; Go(doo);//Upp();
            if (animatedMarker.object3D.visible == true && ev.detail.cursorEl) { 
            }
        });
	    animatedMarker.addEventListener('mousedown', function(ev){doo=1; Go(doo);  //Downn();

  
            if (animatedMarker.object3D.visible == true && ev.detail.cursorEl) { 
		    
            }
        });
}});

//Downn();
</script>
	<a-scene embedded arjs='sourceType: webcam;'>
   <a-assets>
<a-asset-item id="optimerBoldFont" src="https://raw.githubusercontent.com/Arssent/arssent.github.io/master/Arial%20Black_Regular.json"></a-asset-item>    
  <img id="groundTexture" crossorigin="anonymous" src="http://test1.ru/ardemo/floor.jpg">
    </a-assets>
    
    
   <a-entity id="depressia" text-geometry="value: depression; size:0.5"  material="color:white;" position="-1.3 -0.4 -1" ></a-entity>
    
	<a-entity id="light" light="type: ambient; color: #888"></a-entity>
    
    <a-entity id="sphere" ></a-entity>
    
          <a-entity id="ocean" ocean="density:10; width: 5; height: 2; depth: 5; speed: 1" material="color: black; opacity: 0.99; metalness: 0; roughness: 1" rotation="-90 0 0"></a-entity>
    
    <!--<a-cylinder id="ground"  position="0 -0.5 0" radius="2" height="0.1" material="opacity:1; color:black;" ></a-cylinder>-->
		<a-marker-camera markerhandler emitevents="true" cursor="rayOrigin: mouse" id="animated-marker" preset='hiro'></a-marker-camera>
	</a-scene>

</body>
</html>








